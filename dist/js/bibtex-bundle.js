/*!
* reveal.js 5.1.0
* https://revealjs.com
* MIT licensed
*
* Copyright (C) 2011-2024 Hakim El Hattab, https://hakim.se
*/
var Bibtex=function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e={exports:{}};e.exports=function(e){function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=17)}([function(e,n,t){function r(e,n){if("string"!=typeof e)throw new Error("Expected to be string: "+JSON.stringify(n||e));return e}function s(e,n){if(void 0===e)throw new Error("Expected to be defined: "+JSON.stringify(n||e));return e}function o(e,n){if(!i(e))throw new Error("Expected to be array: "+JSON.stringify(n||e));return e}function i(e){return!!e&&e.constructor===Array}function a(e){return"number"==typeof e}function u(e){return"string"==typeof e}Object.defineProperty(n,"__esModule",{value:!0}),n.mustBeString=r,n.mustBeDefined=s,n.mustBeArray=o,n.isArray=i,n.isNumber=a,n.isString=u,n.flattenMyArray=function(e,t){t||(t=[]);for(var r=0,s=e.length;r<s;r++){var o=e[r];if(Array.isArray(o))for(var i=0,a=o.length;i<a;i++){var u=o[i];Array.isArray(u)?n.flattenMyArray(u,t):t.push(u)}else t.push(o)}return t}},function(e,n,t){function r(e){return"quotedstringwrapper"===e.type}function s(e){return"quotedstring"===e.type}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t(4),a=function(e){function n(n,t){return e.call(this,"quotedstring",n,t)||this}return o(n,e),n}(i.BibStringComponent);n.QuotedString=a;var u=function(e){function n(n){return e.call(this,"quotedstringwrapper",n)||this}return o(n,e),n}(i.BibOuterStringComponent);n.OuterQuotedString=u,n.isOuterQuotedString=r,n.isQuotedString=s},function(e,n,t){function r(e){return"bracedstringwrapper"===e.type}function s(e){return"bracedstring"===e.type}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t(4),a=function(e){function n(n,t){var r=e.call(this,"bracedstring",n,t)||this;return r.isSpecialCharacter=0===n&&"\\"===t[0],r}return o(n,e),n}(i.BibStringComponent);n.BracedString=a;var u=function(e){function n(n){return e.call(this,"bracedstringwrapper",n)||this}return o(n,e),n}(i.BibOuterStringComponent);n.OuterBracedString=u,n.isOuterBracedString=r,n.isBracedString=s},function(e,n,t){function r(e){return"number"==typeof e.braceDepth&&"string"==typeof e.type}function s(e){return"ContiguousSimpleString"===e.type&&d.isArray(e.data)}function o(e){return e.data.join("")}function i(e,n){if(d.isNumber(n)||d.isString(n))return n;if(y.isStringRef(n))return new y.StringRef(0,n.stringref);switch(d.mustBeString(n.type,n)){case"id":case"ws":case"number":return d.mustBeString(n.string);case"bracedstring":case"braced":if(!d.isArray(n.data))throw new Error("Expect array for data: "+JSON.stringify(n));return new h.BracedString(e,d.flattenMyArray(n.data).map((function(n){return i(e+1,n)})));case"quotedstring":if(!d.isArray(n.data))throw new Error("Expect array for data: "+JSON.stringify(n));var t=d.flattenMyArray(n.data);return new $.QuotedString(e,t.map((function(n){return i(e,n)})));default:throw new Error("Unexpected complex string type: "+n.type)}}function a(e){if(d.isString(e))return e;if(d.isNumber(e))return e+"";if(h.isBracedString(e)||$.isQuotedString(e)||$.isOuterQuotedString(e)||h.isOuterBracedString(e))return u(e.data);throw new Error(JSON.stringify(e))}function u(e){return e.map(a).join("")}function c(e,n){for(var t=[],r=0,s=e;r<s.length;r++){var o=p(s[r],n);d.isArray(o)?t=t.concat(o):t.push(o)}return t}function p(e,n){if(h.isBracedString(e))return e;if($.isQuotedString(e)){var t=c(e.data,!0);return d.isArray(t)?n?t:_.concat(t).concat(_):n?t:['"',t,'"']}if($.isOuterQuotedString(e))return c(e.data,!0);if(h.isOuterBracedString(e))return c(e.data,!1);if(d.isString(e)||d.isNumber(e))return e;throw y.isStringRef(e)?new Error("StringRef should be resolved at this point!"):new Error}function b(e){for(var n=[],t=0,r=e;t<r.length;t++){var o=r[t];if(d.isString(o)||d.isNumber(o))if(n.length<=0){var i={type:"ContiguousSimpleString",data:[o]};n.push(i)}else{var a=n[n.length-1];s(a)?a.data.push(o):(i={type:"ContiguousSimpleString",data:[o]},n.push(i))}else n.push(o)}return n}function l(e){return m(e,/\s+and\s+/g)}function f(e,n){return void 0===n&&(n=2),m(e,/\s*,\s*/g,n)}function m(e,n,t){for(var r=[],s=[],o=0,i=e;o<i.length;o++){var a=i[o];if(d.isString(a)&&(void 0===t||t>0)){var u=n.exec(a),c=0;if(u){do{var p=c;c=u.index+u[0].length,s.push(a.substring(p,u.index)),(void 0===t||t>0)&&(r.push(s),s=[],void 0!==t&&t>0&&t--),u=void 0===t||t>0?n.exec(a):void 0}while(u);c>0&&c<a.length&&s.push(a.substring(c))}else s.push(a)}else s.push(a)}return s.length>0&&r.push(s),r}Object.defineProperty(n,"__esModule",{value:!0});var y=t(5),h=t(2),$=t(1),d=t(0);n.isBibStringComponent=r,n.isContiguousSimpleString=s,n.joinContiguousSimpleStrings=o,n.parseStringComponent=i,n.toStringBibStringDatum=a,n.toStringBibStringData=u,n.flattenQuotedStrings=c;var _=['"'];n.globContiguousStrings=b,n.splitOnAnd=l,n.splitOnComma=f,n.splitOnPattern=m},function(e,n,t){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),o=function(){function e(e,n,t){this.type=e,this.braceDepth=n,this.data=t}return e.isBibStringComponent=function(e){return"number"==typeof e.braceDepth&&"string"==typeof e.type},e.stringifyDatum=function(n){if(s.isString(n))return n;if(s.isNumber(n))return n.toString();if(e.isBibStringComponent(n))return n.stringify();throw new Error("Unexpected state")},e.prototype.stringify=function(){return this.data.map(e.stringifyDatum).join("")},e}();n.BibStringComponent=o;var i=function(e){function n(n,t){return e.call(this,n,0,t)||this}return r(n,e),n}(o);n.BibOuterStringComponent=i},function(e,n,t){function r(e){return"string"==typeof e.stringref}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,n){this.braceDepth=e,this.stringref=n}return e}();n.StringRef=s,n.isStringRef=r},function(e,n,t){function r(e){return"string"==typeof e.key&&void 0!==e.value}function s(e){if(r(e))return{key:e.key,value:o(e.value)};throw new Error("Was not a KeyVal: "+JSON.stringify(e))}function o(e){if(c.isNumber(e))return e;var n=c.mustBeArray(e.data);switch(e.type){case"quotedstringwrapper":return 1===n.length&&c.isNumber(n[0])?n[0]:new u.OuterQuotedString(n.map((function(e){return p.parseStringComponent(0,e)})));case"bracedstringwrapper":return new a.OuterBracedString(n.map((function(e){return p.parseStringComponent(0,e)})));default:throw new Error("Unexpected value: "+JSON.stringify(e))}}function i(e){if(e)return c.isNumber(e)?e:e.stringify()}Object.defineProperty(n,"__esModule",{value:!0});var a=t(2),u=t(1),c=t(0),p=t(3);n.isKeyVal=r,n.newKeyVal=s,n.parseFieldValue=o,n.normalizeFieldValue=i},function(e,n,t){function r(e){var n=s(e),t=n.key,r=n.value;return new $(t,r)}function s(e){if(b.isKeyVal(e))return b.newKeyVal(e);if("string"!==e.type)throw new Error("Unexpected node: "+JSON.stringify(e));return s(e.data)}function o(e){var n={};return Object.keys(e).forEach((function(t){n[t]||(n[t]=a({},n,e,e[t]))})),n}function i(e,n,t,r){return e.data.map((function(e){if(y.isString(e)||y.isNumber(e))return e;if(l.isStringRef(e))return u(n,r,e,t);if(h.isBibStringComponent(e))return c(e,n,t,r);throw new Error}))}function a(e,n,t,r){return y.isNumber(r)?r:m.isOuterBracedString(r)||f.isOuterQuotedString(r)?p(r,e,n,t):l.isStringRef(r)?u(e,t,r,n):r}function u(e,n,t,r){var s,o=t.stringref;if(e[o])throw new Error("Cycle detected: "+o);if(r[o])return r[o];if(!n[o])throw new Error('Unresolved reference: "'+t.stringref+'" ('+JSON.stringify(t)+")");return r[o]=a(Object.assign({},e,((s={})[o]=!0,s)),r,n,n[o]),r[o]}function c(e,n,t,r){var s=i(e,n,t,r),o=e.braceDepth;if(f.isQuotedString(e))return new f.QuotedString(o,s);if(m.isBracedString(e))return new m.BracedString(o,s);if(f.isOuterQuotedString(e))return new f.OuterQuotedString(s);if(m.isOuterBracedString(e))return new m.OuterBracedString(s);throw new Error}function p(e,n,t,r){var s=c(e,n,t,r);if(!m.isOuterBracedString(s)&&!f.isOuterQuotedString(s))throw new Error;return s}Object.defineProperty(n,"__esModule",{value:!0});var b=t(6),l=t(5),f=t(1),m=t(2),y=t(0),h=t(3),$=function(){function e(e,n){this.type="string",this.key=e,this.value=n}return e}();n.BibStringEntry=$,n.newStringEntry=r,n.resolveStrings=o,n.resolveStringReferences=i,n.resolveStringReference=a,n.copyWithResolvedStringReferences=c,n.copyOuterWithResolvedStringReferences=p},function(e,n,t){function r(e){var n=$.toStringBibStringData(e);return n?n.charAt(0):""}function s(e){return e.length>0&&o(e[0])}function o(e){if(f.isString(e)){if(!e)return!1;var n=e.charAt(0);return n.toLowerCase()===n&&n.toUpperCase()!==n}if(m.isQuotedString(e))return!(!e.data||e.data.length<=0)&&o(e.data[0]);if(y.isStringRef(e)||m.isOuterQuotedString(e)||h.isOuterBracedString(e))throw new Error("Should not do this test on this type");return!1}function i(e){for(var n=$.splitOnPattern(e,d),t=-1,r=-1,o=-1,i=0;i<n.length-1;i++)s(n[i])&&(t<0&&(t=i),r=i+1);o=t>=0?t:n.length-1;var a=t>=0?u(n,t,r):[],c=u(n,0,o),p=u(n,Math.max(r,o),n.length);return new _(c,a,p,[])}function a(e,n){for(var t=$.splitOnPattern(e,d),r=$.splitOnPattern(n,d),o=-1,i=-1,a=0;a<t.length-1;a++)s(t[a])&&(o<0&&(o=a),i=a+1);var c=o>=0?u(t,0,i):[],p=r,b=u(t,Math.max(i,0));return new _(p,c,b,[])}function u(e,n,t){for(var r=[],s=n;s<(void 0===t?e.length:t);s++)r.push(e[s]);return r}function c(e,n,t){for(var r=$.splitOnPattern(e,d),o=$.splitOnPattern(t,d),i=$.splitOnPattern(n,d),a=-1,c=-1,p=0;p<r.length-1;p++)s(r[p])&&(a<0&&(a=p),c=p+1);var b=a>=0?u(r,0,c):[],l=u(r,Math.max(c,0));return new _(o,b,l,i)}function p(e){var n=$.splitOnComma(e);switch(n.length){case 1:return i(n[0]);case 2:return a(l(n[0]),l(n[1]));case 3:return c(l(n[0]),l(n[1]),l(n[2]));default:throw new Error("Could not parse author name: partitioned as "+JSON.stringify(n)+" in "+JSON.stringify(e))}}function b(e){return void 0!==e}function l(e){if(b(e))return e;throw new Error("???????")}Object.defineProperty(n,"__esModule",{value:!0});var f=t(0),m=t(1),y=t(5),h=t(2),$=t(3),d=/\s+/g,_=function(){function e(e,n,t,s){this.firstNames$=e,this.vons$=n,this.lastNames$=t,this.jrs$=s,this.initials=e.map(r),this.firstNames=e.map($.toStringBibStringData),this.vons=n.map($.toStringBibStringData),this.lastNames=t.map($.toStringBibStringData),this.jrs=s.map($.toStringBibStringData),this.id=this.firstNames.join("-")+"-"+this.vons.join("-")+"-"+this.lastNames.join("-")+"-"+this.jrs.join("-")}return e}();n.AuthorName=_,n.parseAuthorName=p;var g=function(){function e(e,n,t){this.first=e,this.von=n,this.last=t}return e}();n.Authorrr=g},function(e,n,t){function r(e){return p.parseAuthorName(e)}function s(e){return c.isNumber(e)?o([e]):o(e.data,b.isOuterQuotedString(e))}function o(e,n){var t=f.globContiguousStrings(f.flattenQuotedStrings(e,n)).map((function(e){return f.isContiguousSimpleString(e)?f.joinContiguousSimpleStrings(e):e}));return f.splitOnAnd(t)}function i(e){if(!a(e))throw new Error;return e}function a(e){return c.isArray(e.authors$)&&"authors"===e.type}var u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var c=t(0),p=t(8),b=t(1),l=t(4),f=t(3),m=function(e){function n(n){var t=this,o=c.isNumber(n)?[n]:n.data;t=e.call(this,"authors",o)||this;var i=s(n);return t.authors$=i.map((function(e){return r(e)})),t}return u(n,e),n}(l.BibOuterStringComponent);n.Authors=m,n.determineAuthorNames$=s,n.mustBeAuthors=i,n.isAuthors=a},function(e,n,t){function r(e){return"comment"===e.type&&o.isArray(e.data)}function s(e){return o.flattenMyArray(e).map(u)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),i=function(){function e(e){this.type="comment",this.data=e,this.string=e.join("")}return e.prototype.toString=function(){return this.string},e}();n.BibComment=i;var a=function(){function e(e,n){this.type=e,this.data=n,this.string=n.join("")}return e.prototype.toString=function(){return this.string},e}();n.CommentEntry=a,n.isBibComment=r;var u=function(e){return o.isString(e)?e:"number"==typeof e?e.toString():"@bib"===e.type?"@"+o.mustBeString(e.string):"escapedEntry"===e.type?"\\"+u(e.data):o.mustBeString(e.string)};n.flattenPlainText=s},function(e,n,t){function r(e){var n={};return Object.keys(e).forEach((function(t){n[t]=u.parseFieldValue(e[t])})),n}function s(e){return"string"==typeof e.type&&"string"==typeof e._id&&!!e.fields}function o(e,n){var t={},r=e.fields;return Object.keys(e.fields).forEach((function(e){var s=a.resolveStringReference({},t,n,r[e]);t[e]="author"===e?new i.Authors(s):s})),new c(e.type,e._id,t)}Object.defineProperty(n,"__esModule",{value:!0});var i=t(9),a=t(7),u=t(6),c=function(){function e(e,n,t){this.type=e,this._id=n,this.fields=t,this.sortkey$="",this.title$=""}return e.prototype.getField=function(e){return this.fields[e.toLowerCase()]},e.prototype.getFieldAsString=function(e){var n=this.getField(e);return u.normalizeFieldValue(n)},e.prototype.getAuthors=function(){var e=this.fields.author;return void 0===e?e:i.mustBeAuthors(e)},e}();n.BibEntry=c,n.parseEntryFields=r,n.isBibEntry=s,n.processEntry=o},function(e,n,t){function r(e){return"preamble"===e.type&&!!e.data}function s(e){var n=i.parseBibEntriesAndNonEntries(o.mustBeArray(e.data));return new a(n)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),i=t(13),a=function(){function e(e){this.type="preamble",this.data=e,this.string=e.join("")}return e.prototype.toString=function(){return this.string},e}();n.Preamble=a,n.isPreamble=r,n.newPreambleNode=s},function(e,n,t){function r(e){if(!u.isArray(e.data)||"NON_ENTRY"!==e.type)throw new Error;return new b.BibComment(b.flattenPlainText(e.data))}function s(e){if("object"==typeof e){var n=e.data;if("string"==typeof n["@type"])return new p.BibEntry(n["@type"],n._id,p.parseEntryFields(n.fields));switch(u.mustBeString(n.type)){case"string":return f.newStringEntry(n);case"preamble":return l.newPreambleNode(n);default:throw new Error("Unexpected entry parsed: "+n.type)}}throw new Error("Expected object as data for entry")}function o(e){var t=new i.Parser(a.grammar.ParserRules,a.grammar.ParserStart);t.feed(new m.default(e).readTokens());var r=t.results[0];return new y(n.parseBibEntriesAndNonEntries(r))}Object.defineProperty(n,"__esModule",{value:!0});var i=t(19),a=t(20),u=t(0),c=t(6),p=t(11),b=t(10),l=t(12),f=t(7),m=t(21),y=function(){function e(e){var n=this;this.content=e,this.comments=e.filter(b.isBibComment).map((function(e){if(b.isBibComment(e))return e;throw new Error})),this.preambles_raw=e.filter((function(e){return l.isPreamble(e)})).map((function(e){if(l.isPreamble(e))return e;throw new Error})),this.preamble$=this.preambles_raw.map((function(e){return e.toString()})).join("\n");var t={};this.content.forEach((function(e){if(c.isKeyVal(e)){if(t[e.key])throw new Error("String with id "+e.key+" was defined more than once");t[e.key]=e.value}})),this.strings_raw=t,this.strings$=f.resolveStrings(t),this.entries_raw=e.filter((function(e){return p.isBibEntry(e)})).map((function(e){if(p.isBibEntry(e))return e;throw new Error}));var r={};this.entries_raw.forEach((function(e){var t=e._id.toLowerCase();if(r[t])throw new Error("Entry with id "+t+" was defined more than once");r[t]=p.processEntry(e,n.strings$)})),this.entries$=r}return e.prototype.getEntry=function(e){return this.entries$[e.toLowerCase()]},e}();n.BibFilePresenter=y,n.parseBibEntriesAndNonEntries=function(e){return e.map((function(e){switch(e.type){case"NON_ENTRY":return r(e);case"ENTRY":return s(e);default:throw new Error("Expected ENTRY or NON_ENTRY")}}))},n.parseBibFile=o},function(e,n,t){function r(e,n){return{type:e,string:n}}function s(e){return n.specialChars.hasOwnProperty(e)}function o(e){return n.escapableChars.hasOwnProperty(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.newToken=r,n.specialChars={"@":!0,"(":!0,")":!0,"{":!0,"}":!0,"#":!0,"=":!0,",":!0,"\\":!0,'"':!0},n.isSpecialChar=s,n.escapableChars={"\\":!0,"@":!0,"{":!0,"}":!0},n.isEscapableChar=o},function(e,n,t){function r(e){return{type:"ws",string:e}}function s(e){return"string"==typeof e.string&&e.type===n.WS}function o(e){return n.singleWhitespaces.hasOwnProperty(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.WS="ws",n.newWhitespace=r,n.isWhitespace=s,n.singleWhitespaces={" ":!0,"\t":!0,"\r":!0,"\n":!0},n.isSingleWhiteSpaceCharacter=o},function(e,n,t){function r(e){return{type:"number",string:e}}function s(e){return n.numericChars.hasOwnProperty(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.newNumber=r,n.numericChars={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},n.isNum=s},function(e,n,t){function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(t(8)),r(t(9)),r(t(18)),r(t(10)),r(t(11)),r(t(12)),r(t(7)),r(t(3)),r(t(4)),r(t(2)),r(t(1)),r(t(5)),r(t(6)),r(t(13)),r(t(0))},function(e,n,t){function r(e){return n.optionalFields.hasOwnProperty(e)}function s(e){return n.mandatoryFields.hasOwnProperty(e)}function o(e){return s(e)?n.mandatoryFields[e]:[]}function i(e){return r(e)?n.optionalFields[e]:[]}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0);n.address="address",n.author="author",n.booktitle="booktitle",n.chapter="chapter",n.edition="edition",n.editor="editor",n.howpublished="howpublished",n.institution="institution",n.journal="journal",n.month="month",n.note="note",n.number="number",n.organization="organization",n.pages="pages",n.publisher="publisher",n.school="school",n.series="series",n.title="title",n.type="type",n.volume="volume",n.year="year",n.optionalFields={book:[["volume","number"],"series","address","edition","month","note"],booklet:["author","howpublished","address","address","month","year","note"],conference:["editor",["volume","number"],"series","pages","address","month","organization","publisher","note"],inproceedings:["editor",["volume","number"],n.series,"pages","address","month","organization","publisher","note"],inbook:["volume","number","series","type","address","edition","month","note"],incollection:["editor",["volume","number"],"series","type","chapter","pages","address","edition","month","note"],manual:["author","organization","year","address","edition","month","note"],mastersthesis:["type","address","month","note"],misc:[],phdthesis:["type","address","month","note"],proceedings:["editor",["volume","number"],"series","address","month","organization","publisher","note"],techreport:["type","address","number","month","note"],unpublished:["month","year"]},n.mandatoryFields={article:["author","title","year","journal"],book:[["author","editor"],"title","publisher","year"],booklet:["title"],conference:["author","title","booktitle","year"],inproceedings:["author","title","booktitle","year"],inbook:[["author","editor"],"title",["chapter","pages"]],incollection:["author","title","booktitle","publisher","year"],manual:["title"],mastersthesis:["author","title","school","year"],misc:[["author","title","howpublished","year","month","note"]],phdthesis:["author","title","school","year"],proceedings:["year","title"],techreport:["author","title","institution","year"],unpublished:["author","title","note"]},n.hasOptionalFields=r,n.hasMandatoryFields=s,n.getMandatoryFields=o,n.getOptionalFields=i,n.findError=function(e,n){var t=e.fields;if(a.isString(n)){if(!t[n])return new Error("Warning: expected "+e.type+" with id "+e._id+" to have the field: "+n)}else if(a.isArray(n)){var r=n.reduce((function(e,n){if(a.isString(n))return e&&t.hasOwnProperty(n);throw new Error}),!0);if(!r)return new Error("Expected "+e.type+" with id "+e._id+" to have one of the following fields: "+n)}}},function(e,n){!function(n,t){"object"==typeof e&&e.exports?e.exports=t():n.nearley=t()}(this,(function(){function e(n,t,r){return this.id=++e.highestId,this.name=n,this.symbols=t,this.postprocess=r,this}function n(e,n,t,r){this.rule=e,this.dot=n,this.reference=t,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function t(e,n){this.grammar=e,this.index=n,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,n){this.rules=e,this.start=n||this.rules[0].name;var t=this.byName={};this.rules.forEach((function(e){t.hasOwnProperty(e.name)||(t[e.name]=[]),t[e.name].push(e)}))}function s(){this.reset("")}function o(e,n,o){if(e instanceof r){var i=e;o=n}else i=r.fromCompiled(e,n);for(var a in this.grammar=i,this.options={keepHistory:!1,lexer:i.lexer||new s},o||{})this.options[a]=o[a];this.lexer=this.options.lexer,this.lexerState=void 0;var u=new t(i,0);this.table=[u],u.wants[i.start]=[],u.predict(i.start),u.process(),this.current=0}return e.highestId=0,e.prototype.toString=function(e){function n(e){return e.literal?JSON.stringify(e.literal):e.type?"%"+e.type:e.toString()}var t=void 0===e?this.symbols.map(n).join(" "):this.symbols.slice(0,e).map(n).join(" ")+" ● "+this.symbols.slice(e).map(n).join(" ");return this.name+" → "+t},n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(e){var t=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return t.left=this,t.right=e,t.isComplete&&(t.data=t.build()),t},n.prototype.build=function(){var e=[],n=this;do{e.push(n.right.data),n=n.left}while(n.left);return e.reverse(),e},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},t.prototype.process=function(e){for(var n=this.states,t=this.wants,r=this.completed,s=0;s<n.length;s++){var i=n[s];if(i.isComplete){if(i.finish(),i.data!==o.fail){for(var a=i.wantedBy,u=a.length;u--;){var c=a[u];this.complete(c,i)}if(i.reference===this.index){var p=i.rule.name;(this.completed[p]=this.completed[p]||[]).push(i)}}}else{if("string"!=typeof(p=i.rule.symbols[i.dot])){this.scannable.push(i);continue}if(t[p]){if(t[p].push(i),r.hasOwnProperty(p)){var b=r[p];for(u=0;u<b.length;u++){var l=b[u];this.complete(i,l)}}}else t[p]=[i],this.predict(p)}}},t.prototype.predict=function(e){for(var t=this.grammar.byName[e]||[],r=0;r<t.length;r++){var s=t[r],o=this.wants[e],i=new n(s,0,this.index,o);this.states.push(i)}},t.prototype.complete=function(e,n){var t=n.rule.name;if(e.rule.symbols[e.dot]===t){var r=e.nextState(n);this.states.push(r)}},r.fromCompiled=function(n,t){var s=n.Lexer;n.ParserStart&&(t=n.ParserStart,n=n.ParserRules);var o=new r(n=n.map((function(n){return new e(n.name,n.symbols,n.postprocess)})),t);return o.lexer=s,o},s.prototype.reset=function(e,n){this.buffer=e,this.index=0,this.line=n?n.line:1,this.lastLineBreak=n?-n.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(e,n){var t=this.buffer;if("string"==typeof t){var r=t.indexOf("\n",this.index);-1===r&&(r=t.length);var s=t.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return n+=" at line "+this.line+" col "+o+":\n\n",(n+="  "+s+"\n")+"  "+Array(o).join(" ")+"^"}return n+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(e){var n,r=this.lexer;for(r.reset(e,this.lexerState);n=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var i=this.current+1,a=new t(this.grammar,i);this.table.push(a);for(var u=n.value,c=r.constructor===s?n.value:n,p=o.scannable,b=p.length;b--;){var l=p[b],f=l.rule.symbols[l.dot];if(f.test?f.test(c):f.type?f.type===n.type:f.literal===u){var m=l.nextState({data:c,token:n,isToken:!0,reference:i-1});a.states.push(m)}}if(a.process(),0===a.states.length){var y=this.lexer.formatError(n,"invalid syntax")+"\n";y+="Unexpected "+(n.type?n.type+" token: ":""),y+=JSON.stringify(void 0!==n.value?n.value:n)+"\n";var h=new Error(y);throw h.offset=this.current,h.token=n,h}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var n=e.index;this.current=n,this.table[n]=e,this.table.splice(n+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],n=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(t){t.rule.name===n&&t.dot===t.rule.symbols.length&&0===t.reference&&t.data!==o.fail&&e.push(t)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}}))},function(e,n,t){function r(e){return e[0]}function s(e,n){if("keyval"!==n.type)throw new Error("Expected a keyval object");var t=n.key.toLowerCase();return e.fields[t]?void 0:(e.fields[t]=n.value,e)}function o(e){for(var n=[],t=0;t<e.length;t++)if("object"==typeof e[t]){if(!e[t].string)throw new Error("Expected token to have a string field called 'string' in object "+JSON.stringify(e[t]));n.push(e[t].string)}else{if("string"!=typeof e[t]&&"number"!=typeof e[t])throw new Error("Could not handle token "+JSON.stringify(e[t])+" in array "+JSON.stringify(e));n.push(e[t])}return n.join("")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){return e.constructor===Number||"object"==typeof e&&"number"===e.type},a={test:function(e){return"object"==typeof e&&"id"===e.type}},u={test:function(e){return"object"==typeof e&&"@bib"===e.type}},c={test:function(e){return"object"==typeof e&&"@string"===e.type}},p={test:function(e){return"object"==typeof e&&"@preamble"===e.type}},b={test:function(e){return"object"==typeof e&&"@comment"===e.type}},l={test:function(e){return"object"==typeof e&&"ws"===e.type}},f={test:i},m={literal:"#"},y={literal:"="},h={literal:"\\"},$={literal:"("},d={literal:")"},_={literal:"{"},g={literal:"}"},v={literal:'"'},x={literal:","};n.grammar={Lexer:void 0,ParserRules:[{name:"main$ebnf$1",symbols:["non_entry"],postprocess:r},{name:"main$ebnf$1",symbols:[],postprocess:function(){}},{name:"main$ebnf$2",symbols:[]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["non_entry"],postprocess:r},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:[],postprocess:function(){}},{name:"main$ebnf$2$subexpression$1",symbols:["entry","main$ebnf$2$subexpression$1$ebnf$1"]},{name:"main$ebnf$2",symbols:["main$ebnf$2","main$ebnf$2$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"main",symbols:["main$ebnf$1","main$ebnf$2"],postprocess:function(e){var n=[];e[0]&&n.push({type:"NON_ENTRY",data:e[0]});for(var t=0;t<e[1].length;t++)n.push({type:"ENTRY",data:e[1][t][0]}),e[1][t][1]&&n.push({type:"NON_ENTRY",data:e[1][t][1]});return n}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",l],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"]},{name:"entry_decl$subexpression$1",symbols:[u]},{name:"entry_decl$subexpression$1",symbols:[c]},{name:"entry_decl$subexpression$1",symbols:[p]},{name:"entry_decl$subexpression$1",symbols:[b]},{name:"entry_decl",symbols:["entry_decl$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"entry$subexpression$1",symbols:["bib_entry"]},{name:"entry$subexpression$1",symbols:["string_entry"]},{name:"entry$subexpression$1",symbols:["preamble_entry"]},{name:"entry$subexpression$1",symbols:["comment_entry"]},{name:"entry",symbols:["entry$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"comment",symbols:["main"],postprocess:function(e){return e[0]}},{name:"comment_liberal$ebnf$1",symbols:[]},{name:"comment_liberal$ebnf$1$subexpression$1",symbols:[/./]},{name:"comment_liberal$ebnf$1",symbols:["comment_liberal$ebnf$1","comment_liberal$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"comment_liberal",symbols:["comment_liberal$ebnf$1"],postprocess:function(e){for(var n=[],t=0;t<e[0].length;t++)n.push(e[0][t][0]);return n}},{name:"entry_body_comment$subexpression$1$macrocall$2",symbols:["comment"]},{name:"entry_body_comment$subexpression$1$macrocall$1",symbols:[$,"entry_body_comment$subexpression$1$macrocall$2",d],postprocess:function(e){return e[1]}},{name:"entry_body_comment$subexpression$1",symbols:["entry_body_comment$subexpression$1$macrocall$1"]},{name:"entry_body_comment$subexpression$1$macrocall$4",symbols:["comment"]},{name:"entry_body_comment$subexpression$1$macrocall$3",symbols:[_,"entry_body_comment$subexpression$1$macrocall$4",g],postprocess:function(e){return e[1]}},{name:"entry_body_comment$subexpression$1",symbols:["entry_body_comment$subexpression$1$macrocall$3"]},{name:"entry_body_comment",symbols:["entry_body_comment$subexpression$1"],postprocess:function(e){return e[0][0][0]}},{name:"entry_body_string$subexpression$1$macrocall$2",symbols:["keyval"]},{name:"entry_body_string$subexpression$1$macrocall$1",symbols:[$,"_","entry_body_string$subexpression$1$macrocall$2","_",d],postprocess:function(e){return e[2]}},{name:"entry_body_string$subexpression$1",symbols:["entry_body_string$subexpression$1$macrocall$1"]},{name:"entry_body_string$subexpression$1$macrocall$4",symbols:["keyval"]},{name:"entry_body_string$subexpression$1$macrocall$3",symbols:[_,"_","entry_body_string$subexpression$1$macrocall$4","_",g],postprocess:function(e){return e[2]}},{name:"entry_body_string$subexpression$1",symbols:["entry_body_string$subexpression$1$macrocall$3"]},{name:"entry_body_string",symbols:["entry_body_string$subexpression$1"],postprocess:function(e){return e[0][0][0]}},{name:"entry_body_bib$subexpression$1$macrocall$2",symbols:["bib_content"]},{name:"entry_body_bib$subexpression$1$macrocall$1",symbols:[$,"_","entry_body_bib$subexpression$1$macrocall$2","_",d],postprocess:function(e){return e[2]}},{name:"entry_body_bib$subexpression$1",symbols:["entry_body_bib$subexpression$1$macrocall$1"]},{name:"entry_body_bib$subexpression$1$macrocall$4",symbols:["bib_content"]},{name:"entry_body_bib$subexpression$1$macrocall$3",symbols:[_,"_","entry_body_bib$subexpression$1$macrocall$4","_",g],postprocess:function(e){return e[2]}},{name:"entry_body_bib$subexpression$1",symbols:["entry_body_bib$subexpression$1$macrocall$3"]},{name:"entry_body_bib",symbols:["entry_body_bib$subexpression$1"],postprocess:function(e){return e[0][0][0]}},{name:"bib_content$ebnf$1",symbols:[]},{name:"bib_content$ebnf$1$subexpression$1",symbols:["keyval","_",x,"_"]},{name:"bib_content$ebnf$1",symbols:["bib_content$ebnf$1","bib_content$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"bib_content$ebnf$2$subexpression$1",symbols:["_",x]},{name:"bib_content$ebnf$2",symbols:["bib_content$ebnf$2$subexpression$1"],postprocess:r},{name:"bib_content$ebnf$2",symbols:[],postprocess:function(){}},{name:"bib_content",symbols:["key_string","_",x,"_","bib_content$ebnf$1","keyval","bib_content$ebnf$2"],postprocess:function(e){for(var n={_id:e[0],fields:[]},t=e[4],r=0;r<t.length;r++)n.fields.push(t[r][0]);return n.fields.push(e[5]),n}},{name:"bib_entry",symbols:[u,"_","entry_body_bib"],postprocess:function(e){var n={_id:e[2]._id};n["@type"]=e[0].string,n.fields={};for(var t=e[2].fields,r=0;r<t.length;r++)s(n,t[r]);return n}},{name:"string_entry",symbols:[c,"_","entry_body_string"],postprocess:function(e){return{type:"string",data:e[2]}}},{name:"preamble_entry",symbols:[p,"_","entry_body_comment"],postprocess:function(e){return{type:"preamble",data:e[2]}}},{name:"comment_entry",symbols:[b,"_","entry_body_comment"],postprocess:function(e){return{type:"comment",data:e[2]}}},{name:"keyval",symbols:["key_string","_",y,"_","value_string"],postprocess:function(e){return{type:"keyval",key:e[0],value:e[4]}}},{name:"braced_string$ebnf$1",symbols:[]},{name:"braced_string$ebnf$1$subexpression$1",symbols:["non_brace"]},{name:"braced_string$ebnf$1$subexpression$1",symbols:["braced_string"]},{name:"braced_string$ebnf$1",symbols:["braced_string$ebnf$1","braced_string$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"braced_string",symbols:[_,"braced_string$ebnf$1",g],postprocess:function(e){var n=[];for(var t in e[1])n.push(e[1][t][0]);return{type:"braced",data:n}}},{name:"quoted_string$ebnf$1",symbols:[]},{name:"quoted_string$ebnf$1$subexpression$1",symbols:["escaped_quote"]},{name:"quoted_string$ebnf$1$subexpression$1",symbols:["non_quote_non_brace"]},{name:"quoted_string$ebnf$1$subexpression$1",symbols:["braced_string"]},{name:"quoted_string$ebnf$1",symbols:["quoted_string$ebnf$1","quoted_string$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"quoted_string",symbols:[v,"quoted_string$ebnf$1",v],postprocess:function(e){var n=[];for(var t in e[1])n.push(e[1][t][0]);return{type:"quotedstring",data:n}}},{name:"escaped_quote",symbols:[h,v]},{name:"non_quote_non_brace$subexpression$1",symbols:[a]},{name:"non_quote_non_brace$subexpression$1",symbols:[u]},{name:"non_quote_non_brace$subexpression$1",symbols:[c]},{name:"non_quote_non_brace$subexpression$1",symbols:[p]},{name:"non_quote_non_brace$subexpression$1",symbols:[b]},{name:"non_quote_non_brace$subexpression$1",symbols:[l]},{name:"non_quote_non_brace$subexpression$1",symbols:[f]},{name:"non_quote_non_brace$subexpression$1",symbols:[m]},{name:"non_quote_non_brace$subexpression$1",symbols:[y]},{name:"non_quote_non_brace$subexpression$1",symbols:[h]},{name:"non_quote_non_brace$subexpression$1",symbols:[$]},{name:"non_quote_non_brace$subexpression$1",symbols:[d]},{name:"non_quote_non_brace$subexpression$1",symbols:[x]},{name:"non_quote_non_brace",symbols:["non_quote_non_brace$subexpression$1"]},{name:"key_string$ebnf$1",symbols:["stringreftoken"]},{name:"key_string$ebnf$1",symbols:["key_string$ebnf$1","stringreftoken"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"key_string",symbols:["key_string$ebnf$1"],postprocess:function(e){return o(e[0]).toLowerCase()}},{name:"value_string$subexpression$1$ebnf$1",symbols:[]},{name:"value_string$subexpression$1$ebnf$1$subexpression$1",symbols:["_",m,"_","quoted_string_or_ref"]},{name:"value_string$subexpression$1$ebnf$1",symbols:["value_string$subexpression$1$ebnf$1","value_string$subexpression$1$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"value_string$subexpression$1",symbols:["quoted_string_or_ref","value_string$subexpression$1$ebnf$1"]},{name:"value_string$subexpression$1",symbols:["braced_string"]},{name:"value_string",symbols:["value_string$subexpression$1"],postprocess:function(e){var n=e[0];if(2===n.length){var t=[];t.push(n[0]);for(var r=0;r<n[1].length;r++)t.push(n[1][r][3]);return{type:"quotedstringwrapper",data:t}}if("braced"===n[0].type)return{type:"bracedstringwrapper",data:n[0].data};throw new Error("Don't know how to handle value "+JSON.stringify(n[0]))}},{name:"quoted_string_or_ref$subexpression$1",symbols:["quoted_string"]},{name:"quoted_string_or_ref$subexpression$1",symbols:["string_ref"]},{name:"quoted_string_or_ref$subexpression$1",symbols:[f]},{name:"quoted_string_or_ref",symbols:["quoted_string_or_ref$subexpression$1"],postprocess:function(e){return e[0][0].type,e[0][0]}},{name:"string_ref$subexpression$1$ebnf$1",symbols:[]},{name:"string_ref$subexpression$1$ebnf$1",symbols:["string_ref$subexpression$1$ebnf$1","stringreftoken"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"string_ref$subexpression$1",symbols:["stringreftoken_n_num","string_ref$subexpression$1$ebnf$1"]},{name:"string_ref",symbols:["string_ref$subexpression$1"],postprocess:function(e){return{stringref:e[0][0]+o(e[0][1])}}},{name:"stringreftoken$subexpression$1",symbols:[h]},{name:"stringreftoken$subexpression$1",symbols:[$]},{name:"stringreftoken$subexpression$1",symbols:[d]},{name:"stringreftoken$subexpression$1",symbols:[a]},{name:"stringreftoken$subexpression$1",symbols:[f]},{name:"stringreftoken$subexpression$1",symbols:[u]},{name:"stringreftoken$subexpression$1",symbols:[c]},{name:"stringreftoken$subexpression$1",symbols:[p]},{name:"stringreftoken$subexpression$1",symbols:[b]},{name:"stringreftoken",symbols:["stringreftoken$subexpression$1"],postprocess:function(e){if("object"==typeof e[0][0]){if(!e[0][0].string)throw new Error("Expected "+e[0]+"to have a 'string' field");return e[0][0].string}if("string"!=typeof e[0][0]&&"number"!=typeof e[0][0])throw new Error("Expected "+e[0][0]+" to be a string");return e[0][0]}},{name:"stringreftoken_n_num$subexpression$1",symbols:[h]},{name:"stringreftoken_n_num$subexpression$1",symbols:[$]},{name:"stringreftoken_n_num$subexpression$1",symbols:[d]},{name:"stringreftoken_n_num$subexpression$1",symbols:[a]},{name:"stringreftoken_n_num$subexpression$1",symbols:[u]},{name:"stringreftoken_n_num$subexpression$1",symbols:[c]},{name:"stringreftoken_n_num$subexpression$1",symbols:[p]},{name:"stringreftoken_n_num$subexpression$1",symbols:[b]},{name:"stringreftoken_n_num",symbols:["stringreftoken_n_num$subexpression$1"],postprocess:function(e){if("object"==typeof e[0][0]){if(!e[0][0].string)throw new Error("Expected "+e[0]+"to have a 'string' field");return e[0][0].string}if("string"!=typeof e[0][0]&&"number"!=typeof e[0][0])throw new Error("Expected "+e[0][0]+" to be a string");return e[0][0]}},{name:"non_brace$subexpression$1",symbols:[h]},{name:"non_brace$subexpression$1",symbols:[$]},{name:"non_brace$subexpression$1",symbols:[d]},{name:"non_brace$subexpression$1",symbols:[a]},{name:"non_brace$subexpression$1",symbols:[v]},{name:"non_brace$subexpression$1",symbols:[l]},{name:"non_brace$subexpression$1",symbols:[f]},{name:"non_brace$subexpression$1",symbols:[x]},{name:"non_brace$subexpression$1",symbols:[u]},{name:"non_brace$subexpression$1",symbols:[c]},{name:"non_brace$subexpression$1",symbols:[p]},{name:"non_brace$subexpression$1",symbols:[b]},{name:"non_brace$subexpression$1",symbols:[m]},{name:"non_brace$subexpression$1",symbols:[y]},{name:"non_brace",symbols:["non_brace$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"non_bracket$subexpression$1",symbols:[h]},{name:"non_bracket$subexpression$1",symbols:[a]},{name:"non_bracket$subexpression$1",symbols:[v]},{name:"non_bracket$subexpression$1",symbols:[l]},{name:"non_bracket$subexpression$1",symbols:[f]},{name:"non_bracket$subexpression$1",symbols:[x]},{name:"non_bracket$subexpression$1",symbols:[u]},{name:"non_bracket$subexpression$1",symbols:[c]},{name:"non_bracket$subexpression$1",symbols:[p]},{name:"non_bracket$subexpression$1",symbols:[b]},{name:"non_bracket$subexpression$1",symbols:[m]},{name:"non_bracket$subexpression$1",symbols:[y]},{name:"non_bracket",symbols:["non_bracket$subexpression$1"],postprocess:function(e){return e[0][0]}},{name:"non_entry$ebnf$1$subexpression$1",symbols:["escaped_entry"]},{name:"non_entry$ebnf$1$subexpression$1",symbols:["escaped_escape"]},{name:"non_entry$ebnf$1$subexpression$1",symbols:["escaped_non_esc_outside_entry"]},{name:"non_entry$ebnf$1$subexpression$1",symbols:["non_esc_outside_entry"]},{name:"non_entry$ebnf$1",symbols:["non_entry$ebnf$1$subexpression$1"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["escaped_entry"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["escaped_escape"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["escaped_non_esc_outside_entry"]},{name:"non_entry$ebnf$1$subexpression$2",symbols:["non_esc_outside_entry"]},{name:"non_entry$ebnf$1",symbols:["non_entry$ebnf$1","non_entry$ebnf$1$subexpression$2"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"non_entry",symbols:["non_entry$ebnf$1"],postprocess:function(e){for(var n=[],t=0;t<e[0].length;t++)n.push(e[0][t][0]);return n}},{name:"escaped_escape",symbols:[h,h],postprocess:function(){return"\\"}},{name:"escaped_entry",symbols:[h,"entry_decl"],postprocess:function(e){return{type:"escapedEntry",data:e[1]}}},{name:"escaped_non_esc_outside_entry",symbols:[h,"non_esc_outside_entry"],postprocess:function(e){return e}},{name:"non_esc_outside_entry$subexpression$1",symbols:[a]},{name:"non_esc_outside_entry$subexpression$1",symbols:[l]},{name:"non_esc_outside_entry$subexpression$1",symbols:[f]},{name:"non_esc_outside_entry$subexpression$1",symbols:[m]},{name:"non_esc_outside_entry$subexpression$1",symbols:[y]},{name:"non_esc_outside_entry$subexpression$1",symbols:[$]},{name:"non_esc_outside_entry$subexpression$1",symbols:[d]},{name:"non_esc_outside_entry$subexpression$1",symbols:[_]},{name:"non_esc_outside_entry$subexpression$1",symbols:[g]},{name:"non_esc_outside_entry$subexpression$1",symbols:[v]},{name:"non_esc_outside_entry$subexpression$1",symbols:[x]},{name:"non_esc_outside_entry",symbols:["non_esc_outside_entry$subexpression$1"],postprocess:function(e){return e[0][0]}}],ParserStart:"main"}},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=t(14),s=t(15),o=t(16),i=t(22),a=t(23),u=function(){function e(e){this.str=e,this.len=e.length,this.pos=0}return e.prototype.getStringUntilNonEscapedChar=function(e){for(var n=[],t=this.pos;t<this.len+1;t++){if(this.pos=t,"\\"==this.str.charAt(t)&&this.str.charAt(t+1).match(e))t++,this.pos=t;else if(this.str.charAt(t).match(e))break;n.push(this.str.charAt(t))}return n.join("")},e.prototype.readTokens=function(){for(var e,n=[];e=this.readNextToken();)n.push(e);return n},e.prototype.readNextToken=function(){if(!(this.pos>=this.str.length)){var e=this.str.charAt(this.pos);return s.isSingleWhiteSpaceCharacter(e)?this.eatWhiteSpace():r.isSpecialChar(e)?this.eatSpecialChars(e):o.isNum(e)?this.eatNumericString(e):this.eatIdString()}},e.prototype.eatIdString=function(){for(var e=[],n=this.pos;n<this.len+1;n++){this.pos=n;var t=this.str.charAt(n);if(!i.isIdChar(t))break;e.push(t)}return i.newIdToken(e.join("").trim())},e.prototype.eatNumericString=function(e){for(var n=[e],t=this.pos+1;t<this.len+1;t++){this.pos=t;var r=this.str.charAt(t);if(!o.isNum(r))break;n.push(r)}var s=n.join("");if("0"===n[0])return o.newNumber(s);var i=Number.parseInt(s);return Number.isFinite(i)?i:o.newNumber(s)},e.prototype.eatSpecialChars=function(e){if(this.pos++,"@"===e){var n=this.getStringUntilNonEscapedChar("{").trim().toLowerCase();return a.isBibType(n)?r.newToken(a.bibTypes[n],n):r.newToken("@bib",n)}return e},e.prototype.eatWhiteSpace=function(){for(var e=[];this.pos<this.len+1;){var n=this.str.charAt(this.pos);if(!s.isSingleWhiteSpaceCharacter(n))break;e.push(n),this.pos++}return s.newWhitespace(e.join(""))},e}();n.default=u},function(e,n,t){function r(e){return{type:"id",string:e}}function s(e){return"id"===e.type&&"string"==typeof e.string}function o(e){return!(i.isSpecialChar(e)||u.isNum(e)||a.isSingleWhiteSpaceCharacter(e))}Object.defineProperty(n,"__esModule",{value:!0});var i=t(14),a=t(15),u=t(16);n.newIdToken=r,n.isIdToken=s,n.isIdChar=o},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.bibTypes={string:"@string",preamble:"@preamble",comment:"@comment",bib:"@bib"},n.isBibType=function(e){return n.bibTypes.hasOwnProperty(e)}}]);var n=e.exports;return window.bibtex=n,{}}();
//# sourceMappingURL=bibtex-bundle.js.map
